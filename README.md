# avito
Avito test task
Тестовое задание на стажировку в Авито

Реализованная функциональность
Возможность создавать короткие ссылки.
Возможность перейти по сохраненному ранее короткому представлению с редиректом на исходный URL.
Валидация ссылок (проверка URL на корректность и выполнение запроса на URL для проверки существования такого сайта в принципе).
Возможность задавать кастомные ссылки.
Выполненные доп. задания, не являющиеся функциональностями
Проведено нагрузочное тестирование.
Написаны unit-тесты на хэндлеры, мидлвары и модуль, связанный с конфигом. Покрытие тестами всего проекта - ~40%. Не тестировались методы, связанные с БД; функции, вызывывающие библиотечные функции; и функции, которые создают объекты(сервера и т.п.).
Необходимое для запуска ПО
Непосредственно сервиса:
Docker;
docker-compose.
Простого UI:
npm.
Тестов:
go 1.15
Инструкция по запуску
git clone https://github.com/sergeychur/avito_auto.git
Непосредственно сервиса:
sudo docker-compose up --build
Простого UI:
cd test_ui && npx http-server
Тестов:
go test -v ./...
Инструкция по использованию
После запуска есть два варианта развития событий. Первый - пользоваться сервисом исключительно как API, второй - пользоваться тестовым UI. В первом случае пригодится документация к API. Ее можно получить перейдя по следующему адресу:

http://localhost:8091/doc/doc.html
Во втором случае необходимо лишь открыть в браузере

http://localhost:8080/
Если у Вас занят порт 8080, есть вероятность, что http-server может запуститься на другом порте. В таком случае необходимо во-первых поменять порт в адресе, во-вторых добавить в файл config_deploy.json в массив allowed_hosts элемент вида http://localhost:<port>/, где <port> - порт, на котором запустился http-server. На бесплатный хостинг UI я не разместил, так как у меня закончилось бесплатное время на Digital Ocean:)
